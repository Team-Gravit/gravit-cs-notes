## 균형 이진 탐색 트리

**균형 이진 탐색 트리**(Balanced Binary Search Tree)는 이진 탐색 트리의 한계(편향 트리 문제)를 개선한 자료구조로, **트리의 높이를 최소화**하여 모든 연산을 O(log N)
의 시간복잡도로 수행할 수 있도록 **균형**을 유지하는 트리이다.

<br>

균형의 기준은 구현에 따라 다르며, 대표적으로 **AVL 트리**와 **Red-Black 트리**가 있다.

<br>

### 1. AVL 트리

**AVL 트리**는 모든 노드의 **왼쪽 서브트리**와 **오른쪽 서브트리**의 **높이 차이를 최대 1로 유지**하는 균형 이진 탐색 트리이다.

<br>

**균형 지표(Balance Factor)**

```
BF = 왼쪽 서브트리 높이 - 오른쪽 서브트리 높이

- BF = 1: 왼쪽 서브트리가 1 높음
- BF = 0: 양쪽 서브트리 높이가 같음
- BF = -1: 오른쪽 서브트리가 1 높음
```

<br>

**균형 유지 방법**

삽입/삭제 시 **BF**가 -1, 0, 1을 벗어나면 각 케이스에 맞춰 **회전**(Rotation)을 수행하여 균형을 맞춘다. 

<br>

**LL(Left Left) 케이스와 RR(Right Right) 케이스**

![image1.png](image1.png)

<br>

**LR(Left Right) 케이스와 RL(Right Left) 케이스**

![image2.png](image2.png)

<br>

### 2. Red-Black 트리

Red-Black 트리는 각 노드가 Red 또는 Black 색상을 가지며, 색상 규칙을 통해 균형을 유지하는 균형 이진 탐색 트리다.

![image3.png](image3.png)

<br>

**균형 유지 방법**

**삽입**/**삭제** 시 **Red-Black 트리의 기본 속성**을 위반하면 **회전**과 **색상 변경**을 통해 균형을 복구한다. AVL 트리보다 **느슨한 균형 조건**을 적용하므로 **회전 횟수가 적다.**

<br>

**Red-Black 트리의 기본 속성**

```
1. 노드의 색상은 Red 또는 Black
2. 루트 노드와 리프 노드(NIL)는 항상 Black
3. Red 노드의 자식 노드는 모두 Black
4. 특정 노드에서 리프 노드까지의 모든 경로에 포함된 Black 노드의 개수는 동일
```

<br>

### 3. AVL 트리 vs Red-Black 트리

|  | **AVL 트리** | **Red-Black 트리** |
| --- | --- | --- |
| **균형 조건** | 서브트리 높이 차이 | 색상 |
| **균형 엄격도** | 엄격함 | 느슨함 |
| **탐색 성능** | 더 빠름 | 더 느림 |
| **삽입/삭제 성능** | 더 느림 | 더 빠름 |