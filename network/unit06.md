## 데이터 링크 계층(Data Link Layer)

**OSI 7계층**의 2계층으로 **물리 계층** 위에 위치한다. **이더넷**(Ethernet)은 **LAN**에서 가장 널리 사용되는 데이터 링크 계층과 물리 계층을 포함하는 통신 기술이다.

<br>

### 1. 데이터 링크 계층의 역할

**프레이밍(Framing)**

상위 계층에서 받은 데이터를 **프레임** 단위로 나누어 전송한다.

<br>

**주소 지정(Addressing)**

**MAC 주소**를 통해 송신 장치와 수신 장치를 구분한다.

<br>

**오류 검출(Error Detection)**

프레임 전송 중 오류 발생 여부를 확인하고 필요 시 재전송한다.

<br>

**흐름 제어(Flow Control)**

수신 측의 처리 속도에 맞춰 전송 속도를 조절한다.

<br>

### 2. 이더넷 프레임 구조

```
Preamble + SFD + 목적지 MAC + 출발지 MAC + Type/Length + 데이터 + FCS
```

| 필드 | 크기 | 설명 |
| --- | --- | --- |
| **Preamble** | 7바이트 | 수신 장치 동기화를 위한 신호 패턴 제공 |
| **SFD** | 1바이트 | 프레임 시작 알림 |
| **목적지 MAC 주소** | 6바이트 | 수신 장치 고유 식별자 |
| **출발지 MAC 주소** | 6바이트 | 송신 장치 고유 식별자 |
| **Type/Length** | 2바이트 | 상위 계층 프로토콜 타입 또는 데이터 길이 |
| **데이터(Data)** | 46~1500바이트 | 실제 전송할 상위 계층 데이터 |
| **FCS** | 4바이트 | 오류 검출용 CRC 값 |

<br>

### 3. 이더넷의 기능

**장치 식별**

- 모든 장치에 고유한 **MAC 주소**를 부여하여 송신 장치와 수신 장치를 구분함
- 장치 간 정확한 데이터 전달을 가능하게 함

<br>

**데이터 전송**

- 데이터 링크 계층의 전송 단위인 **프레임**을 생성하여 전송함
- 상위 계층 데이터를 안전하게 전송 단위로 포장함

<br>

**오류 검출**

- **FCS**를 통해 전송 중 오류를 확인함
- 오류 발생 시 재전송을 통해 신뢰성 있는 통신을 보장함

<br>

**접근 제어**

- **CSMA/CD**(Carrier Sense Multiple Access with Collision Detection) 방식 사용
- 매체 공유 환경에서 충돌 발생 시 재전송하여 효율적인 전송을 보장함

<br>

### 4. CSMA/CD

초기 공유 매체 기반 이더넷에서 사용되던 매체 접근 제어 방식으로, 여러 장치가 동일한 매체를 사용할 때 충돌을 최소화하기 위한 메커니즘이다.

<br>

**Carrier Sense(반송파 감지)**

- 전송 전 매체 상태를 확인하여 사용 중이면 대기하고 비어 있을 때 전송을 시작함

<br>

**Multiple Access(다중 접속)**

- 여러 장치가 매체에 동시에 접근할 수 있으므로 충돌 발생 가능성이 존재함

<br>

**Collision Detection(충돌 감지)**

- 전송 중 충돌이 감지되면 즉시 전송을 중단하고 **Jam Signal**을 전송하여 네트워크 전체에 충돌 발생 사실을 알림

<br>

**Binary Exponential Backoff**

- 충돌 후 장치는 랜덤 시간 대기 후 재전송함
- 충돌 횟수에 따라 대기 범위를 기하급수적으로 증가시켜 혼잡을 완화함

<br>

❗️스위치 기반 **전이중(Full-Duplex)** 이더넷에서는 충돌이 발생하지 않으므로 **CSMA/CD** 기능은 사용되지 않음

<br>

### 5. 속도와 매체 관리

- 다양한 전송 속도를 지원함(**10/100/1000Mbps** 이상)
- 동축 케이블, 트위스트 페어, 광섬유 등 여러 물리 매체를 지원함