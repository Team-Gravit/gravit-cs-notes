## 네트워크 계층(Network Layer)

**OSI 7계층**의 3계층으로 **데이터 링크 계층** 위에 위치한다. 장치 간 데이터 전송을 위한 **경로 선택**과 **논리적 주소 관리**를 담당한다. **IP 주소**는 네트워크 계층에서 장치를 식별하는 논리적 주소이며, **IPv4**와 **IPv6**로 구분된다.

<br>

### 1. 네트워크 계층의 역할

**라우팅(Routing)**

최적 경로를 선택하여 데이터를 목적지까지 전달한다.

<br>

**논리적 주소 지정**

**IP 주소**를 통해 장치를 구분하고 위치 정보를 제공한다.

<br>

**패킷 전송**

상위 계층 데이터를 **패킷** 단위로 나누어 전송한다.

<br>

**인터넷워크 제공**

서로 다른 네트워크 간 데이터 전송을 지원한다.

<br>

### 2-1. IPv4

**주소 길이**

**32비트**(4바이트)로 구성된다.

<br>

**표기 방식**

- **10진수** 4부분으로 나누어 점(`.`)으로 구분하여 표기함
- 각 부분은 **8비트**로 구성되며 **0~255** 범위의 값을 가짐
- 예시: `192.168.1.1`

<br>

**주소 구조**

- **네트워크 부분(Network ID)**: 장치가 속한 네트워크를 식별함
- **호스트 부분(Host ID)**: 네트워크 내 개별 장치를 식별함

<br>

**주소 클래스**

**A, B, C, D, E** 클래스로 구분되며, 네트워크 크기와 용도에 따라 분류된다.

<br>

**장점**

- 구조가 단순함
- 현재까지 대부분의 네트워크에서 사용됨

<br>

**단점**

- 주소 공간이 부족함(약 **42억 개**)

<br>

### 2-2. IPv6

**주소 길이**

**128비트**(16바이트)로 구성된다.

<br>

**표기 방식**

- **16진수** 8블록으로 표기하며 콜론(`:`)으로 구분함
- 예시: `2001:0db8:85a3:0000:0000:8a2e:0370:7334`
- 연속된 **0**은 `::`로 축약 가능함
- 예시: `2001:db8:85a3::8a2e:370:7334`

<br>

**주소 구조**

- **네트워크 부분**: 상위 비트로 네트워크를 식별함
- **호스트 부분**: 하위 비트로 장치를 식별함

<br>

**주소 클래스**

클래스 구분 없이 모든 주소가 단일 구조로 구성된다.

<br>

**장점**

- **IPv4** 주소 부족 문제를 해결함(사실상 무제한)
- **NAT** 없이 전 세계 장치를 직접 식별 가능함
- 자동 주소 구성, 멀티캐스트 등 **IPv4**보다 기능이 강화됨

<br>

### 3. IP 주소 클래스(IPv4)

| 클래스 | 네트워크 범위 | 특징 |
| --- | --- | --- |
| **A** | 1.0.0.0 ~ 126.0.0.0 | 대규모 네트워크용 |
| **B** | 128.0.0.0 ~ 191.255.0.0 | 중규모 네트워크용 |
| **C** | 192.0.0.0 ~ 223.255.255.0 | 소규모 네트워크용 |
| **D** | 224.0.0.0 ~ 239.255.255.255 | 멀티캐스트용 |
| **E** | 240.0.0.0 ~ 255.255.255.255 | 연구용 |

<br>

### 4. 서브넷 마스크(Subnet Mask)

**IP 주소**에서 **네트워크 부분**과 **호스트 부분**을 구분하는 기준이다. 네트워크 구조를 효율적으로 관리하기 위해 사용된다.

<br>

**표기 방식**

- **IPv4** 기준: **32비트**, 4바이트로 표현함
- 예시: `255.255.255.0`
- **CIDR 표기법**: `/n` 형식으로 앞 **n비트**가 네트워크 비트임을 표시함
- 예시: `192.168.1.0/24` → 앞 **24비트**가 네트워크 부분

<br>

**역할**

- **IP 주소**를 네트워크 부분과 호스트 부분으로 나누어 주소 범위를 정의함
- 네트워크 내 장치가 속한 범위를 확인할 수 있음
- 네트워크를 작은 단위인 **서브넷**으로 나눌 때 사용함

<br>

**비트 구조**

- **1**: 네트워크 비트
- **0**: 호스트 비트
- 예시: `255.255.255.192` → 앞 **26비트**가 네트워크 부분, 뒤 **6비트**가 호스트 부분