## 서브넷(Subnet)과 라우팅(Routing)

**서브넷**은 하나의 큰 네트워크를 여러 개의 작은 네트워크 단위로 나누는 것이다. **라우팅**은 패킷이 출발지에서 목적지까지 이동할 경로를 결정하는 과정이며, **정적 라우팅**과 **동적 라우팅**으로 구분된다.

<br>

### 1. 서브넷 계산

**서브넷 계산 공식**

```
호스트 수 = 2^(호스트 비트 수) - 2
```

<br>

**서브넷 분할 예시**

| 서브넷 | 주소 범위 | 호스트 수 | 서브넷 마스크 |
| --- | --- | --- | --- |
| 1 | 192.168.1.0 ~ 192.168.1.63 | 62 | /26 (255.255.255.192) |
| 2 | 192.168.1.64 ~ 192.168.1.127 | 62 | /26 |
| 3 | 192.168.1.128 ~ 192.168.1.191 | 62 | /26 |
| 4 | 192.168.1.192 ~ 192.168.1.255 | 62 | /26 |

<br>

### 2. 서브넷의 장점

- **브로드캐스트**가 서브넷 내부로만 전달되어 불필요한 트래픽이 줄어듬
- **충돌 도메인**이 축소되어 네트워크 안정성과 성능이 향상됨
- 필요한 규모에 맞게 서브넷을 설계하여 **IP 주소** 낭비를 줄임
- 서브넷 단위로 관리와 확장이 쉬워지고 구조적 유지보수가 가능함

<br>

### 3. 라우팅 테이블

| 항목 | 설명 |
| --- | --- |
| **목적지**(Destination) | 목적지 네트워크 주소 |
| **넥스트 홉**(Next Hop) | 다음 라우터 IP 주소 |
| **인터페이스**(Interface) | 패킷이 나가는 포트 |
| **메트릭**(Metric) | 경로 비용, 홉 수 등 |

<br>

### 4-1. 정적 라우팅(Static Routing)

관리자가 직접 경로를 수동으로 설정하는 방식이다.

<br>

**장점**

- 구조가 단순하고 예측 가능함
- 불필요한 트래픽이 없고 안정적임

<br>

**단점**

- 네트워크 변경 시 수동으로 수정해야 함
- 대규모 네트워크에는 비효율적임

<br>

**사용 사례**

- 소규모 사무실 네트워크
- 특정 서버나 네트워크로 고정 경로 지정 시
- 테스트 환경이나 임시 연결 구성 시

<br>

### 4-2. 동적 라우팅(Dynamic Routing)

라우터가 스스로 경로를 학습하고 갱신하는 방식이다.

<br>

**프로토콜 예시**

- **RIP**(Routing Information Protocol): 거리 벡터 방식, 홉 수 기준, 작은 네트워크에 적합함
- **OSPF**(Open Shortest Path First): 링크 상태 기반 최단 경로 계산, 대규모 네트워크에 적합함
- **BGP**(Border Gateway Protocol): **AS** 간 경로 결정, 인터넷 핵심 프로토콜

<br>

**라우팅 테이블 예시**

| 목적지 | 넥스트 홉 | 인터페이스 | 메트릭 |
| --- | --- | --- | --- |
| 192.168.1.0/24 | 10.0.0.1 | eth0 | 1 |
| 192.168.2.0/24 | 10.0.0.2 | eth1 | 2 |
| 10.0.0.0/8 | 10.0.0.254 | eth0 | 5 |

<br>

**동적 라우팅의 특징**

- 라우터가 주변 라우터와 경로 정보를 주고받음
- **메트릭** 기준으로 최적 경로를 선택함
- 네트워크 장애 발생 시 자동으로 경로를 재선택할 수 있음