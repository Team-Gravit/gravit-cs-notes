## 프로토콜과 계층 구조

**프로토콜**(Protocol)은 컴퓨터 네트워크에서 **통신을 수행하기 위한 규칙, 약속, 절차의 집합**이다. 서로 다른 시스템 간에 데이터를 올바르게 주고받기 위한 **공통 언어**이다.

<br>

**계층 구조**는 네트워크 기능을 **여러 계층으로 나누어** 각 계층이 **독립적으로 역할을 수행**하도록 설계한 구조이다.

<br>

### 1. 프로토콜의 역할

- **데이터 형식 정의**

  어떤 형식으로 데이터를 주고받을지 규정한다.


- **전송 방식 정의**

  **연결형**(TCP) / **비연결형**(UDP)을 결정한다.


- **오류 검출 및 제어**

  전송 오류 발생 시 **재전송** 등을 처리한다.


- **통신 신뢰성 보장**

  데이터가 목적지까지 **정확히 도착**하도록 관리한다.

<br>

### 2. 계층 구조의 목적

**복잡성 분리**

네트워크 전체 기능을 **단계별로 나누어** 이해 및 설계를 용이하게 한다.

<br>

**모듈화**

각 계층별 프로토콜이나 기술을 **독립적으로 개발·변경** 가능하다.

<br>

**표준화 및 상호 운용성**

서로 다른 시스템·제조사 간 **통신 가능**하다.

<br>

**유연한 확장**

특정 계층 기술 발전 시 **다른 계층 영향 최소화**한다.

<br>

### 3. OSI 7계층 모델

| **계층** | **기능** | **예시 프로토콜/서비스** |
| --- | --- | --- |
| **7. 응용 계층**(Application) | 사용자와 직접 상호작용, 네트워크 서비스 제공 | HTTP, FTP, SMTP, DNS |
| **6. 표현 계층**(Presentation) | 데이터 형식 변환, 암호화/복호화, 압축 | JPEG, ASCII, TLS/SSL |
| **5. 세션 계층**(Session) | 통신 세션 관리, 연결 설정/유지/종료 | NetBIOS, RPC |
| **4. 전송 계층**(Transport) | 데이터 전달 신뢰성, 흐름 제어, 오류 제어 | TCP, UDP |
| **3. 네트워크 계층**(Network) | 경로 설정, 주소 지정, 패킷 전달 | IP, ICMP, RIP |
| **2. 데이터링크 계층**(Data Link) | 프레임 전달, 오류 검출/수정, MAC 주소 관리 | Ethernet, PPP, Wi-Fi |
| **1. 물리 계층**(Physical) | 실제 신호 전송, 전송 매체, 비트 단위 전송 | 케이블, 광섬유, 무선 신호 |

<br>

### 4. TCP/IP 4계층 모델

| **계층** | **기능** | **예시 프로토콜** |
| --- | --- | --- |
| **4. 응용 계층**(Application) | 사용자 서비스 제공 | HTTP, FTP, SMTP, DNS |
| **3. 전송 계층**(Transport) | 신뢰성 있는 데이터 전달, 포트 기반 통신 | TCP, UDP |
| **2. 인터넷 계층**(Internet) | 패킷 전달, 라우팅, 주소 지정 | IP, ICMP |
| **1. 네트워크 인터페이스 계층**(Link) | LAN/WAN 프레임 전달, 실제 전송 | Ethernet, Wi-Fi, PPP |

<br>

### 7. OSI vs TCP/IP 비교

| **특징** | **OSI 7계층** | **TCP/IP 4계층** |
| --- | --- | --- |
| **계층 수** | 7계층 | 4계층 |
| **개발 주체** | ISO | DARPA |
| **목적** | 이론적 표준 모델 | 실용적 구현 모델 |
| **사용** | 교육·개념 설명 | 실제 인터넷 |
| **복잡도** | 높음 (세분화) | 낮음 (통합) |

<br>

### 8. 캡슐화와 역캡슐화

**캡슐화**(Encapsulation)

상위 계층에서 하위 계층으로 데이터를 전달할 때, 각 계층에서 **헤더를 추가**하는 과정이다.

```
응용 → 데이터
전송 → 세그먼트 (헤더 + 데이터)
네트워크 → 패킷 (헤더 + 세그먼트)
데이터링크 → 프레임 (헤더 + 패킷 + 트레일러)
물리 → 비트
```

<br>

**역캡슐화**(Decapsulation)

하위 계층에서 상위 계층으로 데이터를 전달할 때, 각 계층에서 **헤더를 제거**하는 과정이다.

<br>

### 9. 계층 구조의 장점

- **복잡성 감소**: 각 계층이 독립적으로 동작
- **표준화**: 계층별 표준 프로토콜 사용
- **상호 운용성**: 서로 다른 시스템 간 통신 가능
- **유지보수 용이**: 특정 계층만 수정 가능
- **확장성**: 새로운 기술 추가 용이

<br>

### 10. 계층 구조의 단점

- **오버헤드**: 각 계층의 헤더로 인한 데이터 크기 증가
- **처리 지연**: 여러 계층을 거치며 처리 시간 증가
- **복잡도**: 계층이 많을수록 관리 복잡