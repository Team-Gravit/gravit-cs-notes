## 키(Key)

데이터베이스에서 **튜플을 유일하게 식별**하거나 **정렬의 기준**이 되는 속성 또는 속성들의 집합이다. 키는 **유일성**과 **최소성**이라는 두 가지 특성을 기준으로 분류된다.

<br>

### 1. 키의 특성

**유일성(Uniqueness)**

**하나의 키 값**으로 **하나의 튜플만 식별**할 수 있는 성질이다. 동일한 키 값을 가진 튜플이 두 개 이상 존재하면 유일성을 만족하지 않는다.

<br>

**최소성(Minimality)**

키를 구성하는 속성 중 하나라도 제거하면 유일하게 식별할 수 없는, **꼭 필요한 최소한의 속성만으로 구성**된 성질이다.

<br>

### 2. 슈퍼키(Super Key)

테이블에서 각 튜플을 유일하게 식별할 수 있는 하나 이상의 속성 집합. **유일성만 만족**하면 슈퍼키가 될 수 있으며, **최소성은 요구되지 않음**.

```
# 학번, 이름, 학과로 구성된 학생 테이블에서의 예시

- { 학번 } = 슈퍼키 O (유일성 O, 최소성 O)
- { 학번, 이름 } = 슈퍼키 O (유일성 O, 최소성 X)
- { 학번, 이름, 학과 } = 슈퍼키 O (유일성 O, 최소성 X)
- { 이름 } = 슈퍼키 X (동명이인 존재 가능)
```

<br>

### 3. 후보키(Candidate Key)

슈퍼키 중에서 **유일성과 최소성을 모두 만족**하는 속성 집합. 기본키가 될 수 있는 후보들이며, 하나의 테이블에 여러 개가 존재할 수 있음.

```
# 학번, 이름, 주민등록번호로 구성된 학생 테이블에서의 예시

 - 후보키: { 학번 }, { 주민등록번호 }
 - {학번, 이름}은 최소성을 만족하지 않으므로 후보키 X
```

<br>

### 4. 기본키(Primary Key)

후보키 중에서 **테이블의 대표 식별자**로 선택된 키. 테이블당 하나만 지정할 수 있음.

**기본키 제약 조건**

- **NOT NULL**: NULL 값을 가질 수 없음
- **UNIQUE**: 중복된 값을 가질 수 없음

<br>

### 5. 대체키(Alternate Key)

**후보키 중에서 기본키로 선택되지 않은 나머지 키**. 기본키와 동일하게 유일성과 최소성을 만족하며, 필요시 기본키를 대체할 수 있음.

```
# 학생 테이블에서 후보키가 {학번}, {주민등록번호}일 때

- 기본키: {학번}
- 대체키: {주민등록번호}
```

<br>

### 6. 키의 구성 및 특성에 따른 분류

**복합키(Composite Key)**

**두 개 이상의 속성을 결합하여 구성된 키**. 단일 속성으로는 유일성을 만족하지 못할 때 사용.

```
# 학번, 과목코드, 성적으로 구성된 수강 테이블에서의 예시

- 학번이나 과목코드만으로는 유일성 만족 X
- 복합 기본키: { 학번, 과목코드 }
```

<br>

**자연키(Natural Key)**

현실 세계에서 고유한 의미를 가진 속성으로 구성된 키.

<br>

**대리키(Surrogate Key)**

현실 세계의 의미와 무관하게 **시스템에서 인위적으로 생성한 키**. 일반적으로 자동 증가 정수 사용

```sql
CREATE TABLE Product (
    id INT AUTO_INCREMENT PRIMARY KEY,  -- 대리키
    name VARCHAR(100),
    price INT
);
```