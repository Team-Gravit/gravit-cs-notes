## 관계형 모델 개념

관계형 데이터베이스는 **2차원 표**(Table) 형태로 데이터와 그 관계를 표현하는 데이터베이스이다. 개체와 관계를 모두 **릴레이션**(Relation)으로 표현한다.

<br>

### 1. 관계형 데이터베이스

관계형 데이터베이스는 **데이터를 행과 열로 구성된 테이블에 저장**하고, 테이블 간의 관계를 통해 데이터를 관리하는 시스템이다.

<br>

**특징**

- **개체**(Entity)와 **관계**(Relationship)를 모두 릴레이션이라는 표로 표현
- 구조가 간결하고 보기 편리하며, 다른 데이터베이스로의 변환이 용이
- 대용량 처리 시 성능이 다소 떨어질 수 있고, 복잡한 관계 표현에 한계가 존재

<br>

### 2. 릴레이션(Relation)

릴레이션은 데이터를 표 형태로 표현한 것이다. 구조를 정의하는 릴레이션 스키마와 실제 데이터인 릴레이션 인스턴스로 구성된다.

<br>

**릴레이션 구성 요소**

| **용어** | **정의** | **대응 개념** |
| --- | --- | --- |
| **튜플** | 릴레이션을 구성하는 각각의 행 | 행, 레코드 |
| **속성** | 릴레이션을 구성하는 각각의 열 | 열, 필드 |
| **도메인** | 하나의 속성이 가질 수 있는 값의 범위 | 데이터 타입, 제약 조건 |
| **카디널리티** | 튜플의 수 | 행의 개수 |
| **차수** | 속성의 수 | 열의 개수 |

<br>

**릴레이션 구조**

<img src="https://raw.githubusercontent.com/Team-Gravit/gravit-images/main/database/unit03/image1.png" width="100%">

<br>
<br>

### 3. 도메인(Domain)

도메인은 하나의 속성이 가질 수 있는 원자값들의 집합이다. 속성에 허용되는 값의 범위를 정의한다.

```
[성별] 속성의 도메인 = {'남', '여'}
[학년] 속성의 도메인 = {1, 2, 3, 4}
[이메일] 속성의 도메인 = 이메일 형식을 만족하는 문자열 집합
```

<br>

### 4. 무결성 제약(Integrity Constraint)

무결성 제약은 데이터베이스에 저장된 **데이터의 정확성과 일관성을 보장**하기 위한 규칙이다.

<br>

**개체 무결성**

- 기본 키를 구성하는 속성은 **NULL** 값을 가질 수 없음
- 기본 키는 **릴레이션 내에서 유일**

```sql
-- 개체 무결성 위반 예시
INSERT INTO 학생(학번, 이름) VALUES (NULL, '김철수');  -- 오류 발생
INSERT INTO 학생(학번, 이름) VALUES ('2024001', '이영희');  -- 중복 시 오류
```

<br>

**참조 무결성**

- 외래 키 값은 참조하는 테이블의 **기본 키** 값이거나 **NULL**이어야 함
- 존재하지 않는 값을 참조할 수 없음

```sql
-- 참조 무결성 위반 예시
-- 부서 테이블에 부서ID '999'가 존재하지 않는 경우
INSERT INTO 사원(사원ID, 이름, 부서ID) VALUES (1, '김철수', '999');  -- 오류 발생
```

<br>

**도메인 무결성**

- 속성 값은 정의된 도메인에 속한 값이어야 함
- 데이터 타입, 길이, 형식 등의 제약을 만족해야 함